var TableItem=React.createClass({displayName:"TableItem",getInitialState:function(){return{position:null}},componentDidMount:function(){var e=this.props.friend,t=new BMap.Geocoder;t.getLocation(new BMap.Point(e.lng,e.lat),function(e){var t=e.addressComponents;this.setState({position:t.province+", "+t.city+", "+t.district+", "+t.street+", "+t.streetNumber})}.bind(this))},handleDelete:function(){var e=this.props.friend;"undefined"!=typeof e&&$.ajax({url:"/admin/friends?uid="+e.uid,method:"DELETE",dataType:"json",success:function(e){"undefined"!=typeof e&&(0==e.no?location.href=location.href:alert(e.msg))}.bind(this)})},render:function(){var e=this.props.friend;return React.createElement("tr",null,React.createElement("td",null,React.createElement("a",{href:"http://tieba.baidu.com/home/main/?un="+e.username+"&ie=utf-8",target:"_blank"},e.username)),React.createElement("td",null,this.state.position),React.createElement("td",null,e.level),React.createElement("td",null,e.ip),React.createElement("td",null,React.createElement("a",{onClick:this.handleDelete,href:"javascript:void(0)"},"删除")))}}),Table=React.createClass({displayName:"Table",getInitialState:function(){return{friends:[]}},componentDidMount:function(){$.ajax({url:"/admin/friends",method:"GET",dataType:"json",success:function(e){"undefined"!=typeof e&&this.setState({friends:e})}.bind(this)})},handleDelete:function(e){var t=this.state.friends.splice(e,1);this.setState({friends:t})},render:function(){var e=this.state.friends.map(function(e,t){return React.createElement(TableItem,{friend:e,onDelete:this.handleDelete,key:t,index:t})}.bind(this));return React.createElement("table",{className:"am-table am-table-bordered am-table-striped am-table-hover",style:{backgroundColor:"#fff"}},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"ID"),React.createElement("th",null,"地点"),React.createElement("th",null,"等级"),React.createElement("th",null,"IP地址"),React.createElement("th",null,"操作"))),React.createElement("tbody",null,e))}}),Container=React.createClass({displayName:"Container",render:function(){return React.createElement("div",null,React.createElement(Header,null),React.createElement(Table,null),React.createElement(Footer,null))}});React.render(React.createElement(Container,null),document.getElementById("container"));